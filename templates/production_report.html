{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Production |Report</title>
    <!-- Font Awesome -->
    <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
    rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <style>
        </style>
</head>
<body>
    <div class="container-fluid mt-2 mb-2">
        <div class="row mt-2 mb-2">
            {% if productions %}
            <!-- <form action="">
                <input type="text" name="month_num">
                </form> -->
                <a class="ml-2 mt-2" href="{% url 'export_production_xls' %}">Generate Production report for {% now 'DATE_FORMAT' %}
                </a>
                <!-- <div class="table-responsive table-bordered"> -->
                <table class="ml-2 mr-2 table table-responsive table-sm ">
                    <thead>
                      <tr>
                        <th scope="col"><p class="text-sm text-muted">Product</p></th>
                        <th scope="col"><p class="text-sm text-muted">Qty manuf</p></th>
                        <th scope="col"><p class="text-sm text-muted">No. Men</p></th>
                        <th scope="col"><p class="text-sm text-muted">Sand (kgs)</p></th>
                        <th scope="col"><p class="text-sm text-muted">River sand (kgs)</p></th>
                        <th scope="col"><p class="text-sm text-muted">1/4 ballast (kgs)</p></th>
                        <th scope="col"><p class="text-sm text-muted">1/2 ballast (kgs)</p></th>
                        <th scope="col"><p class="text-sm text-muted">Dust (kgs)</p></th>
                        <th scope="col"><p class="text-sm text-muted">Cement (kgs)</p></th>
                        <th scope="col"><p class="text-sm text-muted">White cement (kgs)</p></th>
                        <th scope="col"><p class="text-sm text-muted">Total wages</p></th>
                        <!-- <th scope="col">Prod defeicit</th> -->
                        <!-- <th scope="col">Damages</th> -->
                        <th scope="col"><p class="text-sm text-muted">Oil (ltrs)</p></th>
                        <th scope="col"><p class="text-sm text-muted">Diesel (ltrs)</p></th>
                        <th scope="col"><p class="text-sm text-muted">Date</p></th>
                        <th scope="col"><p class="text-sm text-muted">Production Cost</p></th>
                        <th scope="col"><p class="text-sm text-muted">Update</p></th>

                        <!-- <th scope="col">Costs</th> -->
                      </tr>
                    </thead>
                    <tbody>
                        {% for production in productions %}
                        
                      <tr>
                        <!-- <th scope="row">Default</th> -->
                        <td>{{production.product.name}}</td>
                        <td>{{production.actual_production}}</td>
                        <td>{{production.number_of_labourers}}</td>
                        <td>{{production.sand_kgs}}</td>
                        <td>{{production.river_sand_kgs}}</td>
                        <td>{{production.quarter_ballast_kgs}}</td>
                        <td>{{production.half_ballast_kgs}}</td>
                        <td>{{production.dust_kgs}}</td>
                        <td>{{production.cement_kgs}}</td>
                        <td>{{production.white_cement_kgs}}</td>
                        <td>{{production.total_wages}}</td>
                        <!-- <td>{{production.production_defeicit}}</td> -->
                        <!-- <td>{{production.damages}}</td> -->
                        <td>{{production.oil_used_in_litres}}</td>
                        <td>{{production.fuel_used_in_litres}}</td>
                        <td>{{production.date|date:"SHORT_DATE_FORMAT"}}</td>
                        <td>{{production.production_cost|floatformat:2}}</td>
                         <td>
                          {% if production.transfered_to_curing == False %}
                          <a class="btn btn-outline-primary btn-sm" href="{% url 'update_production' production.id %}">Update</a>

                            <a class="btn btn-outline-primary btn-sm m-1" href="{% url 'transfer_to_curnig' production.id %}">Transfer</a>

                          {% else %}
                            <p class="text-sm text-success">Transfered to curing</p>
                            {% endif %}
                          </td>
                        <!-- <td>oil{{production.oil_cost|stringformat:"f"}},ceme{{production.cement_cost|stringformat:"f"}},sand{{production.sand_cost|stringformat:"f"}},ball{{production.half_ballast_cost|stringformat:"f"}},diesel{{production.diesel_cost|stringformat:"f"}}</td> -->
                      
                      </tr>
                      

                      {% endfor %}
                    </tbody>
                  </table>
                <!-- </div> -->

            {% endif %}
     
        </div>
    </div>

    


    

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>   
</body>
</html>



